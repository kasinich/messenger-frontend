{"ast":null,"code":"import _classCallCheck from '../../polyfills/classCallCheck';\nimport _createClass from '../../polyfills/createClass';\nimport { getData, getSanitizedData, intersect } from '..';\nimport { uncompress } from '../data';\nimport store from '../store';\nvar NimbleEmojiIndex = function () {\n  function NimbleEmojiIndex(data, set) {\n    _classCallCheck(this, NimbleEmojiIndex);\n    if (data.compressed) {\n      uncompress(data);\n    }\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n  _createClass(NimbleEmojiIndex, [{\n    key: 'buildIndex',\n    value: function buildIndex() {\n      var _this = this;\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji];\n        var short_names = emojiData.short_names;\n        var emoticons = emojiData.emoticons;\n        var skin_variations = emojiData.skin_variations;\n        var id = short_names[0];\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n            _this.emoticons[emoticon] = id;\n          });\n        }\n\n        // If skin variations include them\n        if (skin_variations) {\n          _this.emojis[id] = {};\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = getSanitizedData({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = getSanitizedData(id, null, _this.set, _this.data);\n        }\n        _this.originalPool[id] = emojiData;\n      };\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: 'clearCustomEmojis',\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: 'addCustomToPool',\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = getData(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = getSanitizedData(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: 'search',\n    value: function search(value) {\n      var _this4 = this;\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var emojisToShowFilter = _ref.emojisToShowFilter;\n      var maxResults = _ref.maxResults;\n      var include = _ref.include;\n      var exclude = _ref.exclude;\n      var _ref$custom = _ref.custom;\n      var custom = _ref$custom === undefined ? [] : _ref$custom;\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = store.get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n        pool = this.originalPool;\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n          allResults = [];\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n        allResults = values.map(function (value) {\n          var aPool = pool,\n            aIndex = _this4.index,\n            length = 0;\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var char = value[charIndex];\n            length++;\n            aIndex[char] || (aIndex[char] = {});\n            aIndex = aIndex[char];\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n                for (var _id in aPool) {\n                  var emoji = aPool[_id];\n                  var search = emoji.search;\n                  var sub = value.substr(0, length);\n                  var subIndex = search.indexOf(sub);\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == _id) score = 0;\n                    if (_this4.emojis[_id] && _this4.emojis[_id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[_id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[_id]);\n                    }\n                    aIndex.pool[_id] = emoji;\n                    scores[_id] = score;\n                  }\n                }\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                    bScore = scores[b.id];\n                  return aScore - bScore;\n                });\n              })();\n            }\n            aPool = aIndex.pool;\n          }\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n        if (allResults.length > 1) {\n          results = intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n      return results;\n    }\n  }]);\n  return NimbleEmojiIndex;\n}();\nexport default NimbleEmojiIndex;","map":{"version":3,"names":["_classCallCheck","_createClass","getData","getSanitizedData","intersect","uncompress","store","NimbleEmojiIndex","data","set","compressed","originalPool","index","emojis","emoticons","customEmojisList","buildIndex","key","value","_this","_loop","emoji","emojiData","short_names","skin_variations","id","forEach","emoticon","skinTone","skin","clearCustomEmojis","pool","_this2","emojiId","addCustomToPool","custom","_this3","length","search","_this4","_ref","arguments","undefined","emojisToShowFilter","maxResults","include","exclude","_ref$custom","get","results","values","toLowerCase","split","allResults","categories","category","isIncluded","indexOf","isExcluded","customIsIncluded","customIsExcluded","map","aPool","aIndex","charIndex","char","scores","_id","sub","substr","subIndex","score","push","sort","a","b","aScore","bScore","filter","apply","result","slice"],"sources":["D:/React/projects/02-second-project/messanger-frontend/node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"],"sourcesContent":["import _classCallCheck from '../../polyfills/classCallCheck';\nimport _createClass from '../../polyfills/createClass';\nimport { getData, getSanitizedData, intersect } from '..';\nimport { uncompress } from '../data';\nimport store from '../store';\n\nvar NimbleEmojiIndex = function () {\n  function NimbleEmojiIndex(data, set) {\n    _classCallCheck(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      uncompress(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n\n    this.buildIndex();\n  }\n\n  _createClass(NimbleEmojiIndex, [{\n    key: 'buildIndex',\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji];\n        var short_names = emojiData.short_names;\n        var emoticons = emojiData.emoticons;\n        var skin_variations = emojiData.skin_variations;\n        var id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        }\n\n        // If skin variations include them\n        if (skin_variations) {\n          _this.emojis[id] = {};\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = getSanitizedData({ id: id, skin: skinTone }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = getSanitizedData(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: 'clearCustomEmojis',\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: 'addCustomToPool',\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = getData(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = getSanitizedData(emoji, null, null, _this3.data);\n        }\n      });\n\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: 'search',\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var emojisToShowFilter = _ref.emojisToShowFilter;\n      var maxResults = _ref.maxResults;\n      var include = _ref.include;\n      var exclude = _ref.exclude;\n      var _ref$custom = _ref.custom;\n      var custom = _ref$custom === undefined ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n\n      var skinTone = store.get('skin') || 1;\n\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var char = value[charIndex];\n            length++;\n\n            aIndex[char] || (aIndex[char] = {});\n            aIndex = aIndex[char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var _id in aPool) {\n                  var emoji = aPool[_id];\n                  var search = emoji.search;\n                  var sub = value.substr(0, length);\n                  var subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == _id) score = 0;\n\n                    if (_this4.emojis[_id] && _this4.emojis[_id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[_id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[_id]);\n                    }\n                    aIndex.pool[_id] = emoji;\n\n                    scores[_id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  return aScore - bScore;\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return NimbleEmojiIndex;\n}();\n\nexport default NimbleEmojiIndex;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}