{"ast":null,"code":"import LoginForm from \"../components/LoginForm\";\nimport { withFormik } from \"formik\";\nimport validateForm from \"utils/validate\";\nimport { openNotification } from \"utils/helpers\";\nimport axios from \"core/axios\";\nexport default withFormik({\n  mapPropsToValues: () => ({\n    email: \"\",\n    password: \"\"\n  }),\n  validate: values => {\n    let errors = {};\n    validateForm({\n      isAuth: true,\n      values,\n      errors\n    });\n    return errors;\n  },\n  handleSubmit: (values, {\n    setSubmitting,\n    setStatus\n  }) => {\n    return axios.post(\"/user/login\", values).then(({\n      data\n    }) => {\n      const {\n        status,\n        token\n      } = data;\n      if (status === \"error\") {\n        openNotification({\n          title: \"Ошибка при авторизации\",\n          text: \"Неверный логин или пароль\",\n          type: \"error\"\n        });\n      } else {\n        openNotification({\n          title: \"Ошибка при авторизации\",\n          text: \"Авторизован\",\n          type: \"success\"\n        });\n      }\n      /* localStorage.token = data.token */\n      setSubmitting(false);\n    }).catche(() => {\n      setSubmitting(false);\n    });\n  },\n  displayName: \"LoginForm\"\n})(LoginForm);","map":{"version":3,"names":["LoginForm","withFormik","validateForm","openNotification","axios","mapPropsToValues","email","password","validate","values","errors","isAuth","handleSubmit","setSubmitting","setStatus","post","then","data","status","token","title","text","type","catche","displayName"],"sources":["D:/React/projects/02-second-project/messanger-frontend/src/modules/LoginForm/containers/LoginForm.js"],"sourcesContent":["import LoginForm from \"../components/LoginForm\";\r\nimport { withFormik } from \"formik\";\r\nimport validateForm from \"utils/validate\"\r\nimport { openNotification } from \"utils/helpers\";\r\n\r\nimport axios from \"core/axios\"\r\n\r\nexport default withFormik({\r\n    mapPropsToValues: () => (\r\n        {\r\n            email: \"\",\r\n            password: \"\"\r\n        }),\r\n    validate: values => {\r\n        let errors = {}\r\n\r\n        validateForm({ isAuth: true, values, errors })\r\n\r\n        return errors\r\n    },\r\n    handleSubmit: (values, { setSubmitting, setStatus }) => {\r\n        return axios.post(\"/user/login\", values)\r\n            .then(({ data }) => {\r\n                const { status, token } = data\r\n                if (status === \"error\") {\r\n                    openNotification({\r\n                        title: \"Ошибка при авторизации\",\r\n                        text: \"Неверный логин или пароль\",\r\n                        type: \"error\"\r\n                    })\r\n                } else {\r\n                    openNotification({\r\n                        title: \"Ошибка при авторизации\",\r\n                        text: \"Авторизован\",\r\n                        type: \"success\"\r\n                    })\r\n                }\r\n                /* localStorage.token = data.token */\r\n                setSubmitting(false)\r\n            })\r\n            .catche(() => {\r\n                setSubmitting(false)\r\n            })\r\n    },\r\n    displayName: \"LoginForm\"\r\n\r\n})(LoginForm);"],"mappings":"AAAA,OAAOA,SAAS,MAAM,yBAAyB;AAC/C,SAASC,UAAU,QAAQ,QAAQ;AACnC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,OAAOC,KAAK,MAAM,YAAY;AAE9B,eAAeH,UAAU,CAAC;EACtBI,gBAAgB,EAAEA,CAAA,MACd;IACIC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACd,CAAC,CAAC;EACNC,QAAQ,EAAEC,MAAM,IAAI;IAChB,IAAIC,MAAM,GAAG,CAAC,CAAC;IAEfR,YAAY,CAAC;MAAES,MAAM,EAAE,IAAI;MAAEF,MAAM;MAAEC;IAAO,CAAC,CAAC;IAE9C,OAAOA,MAAM;EACjB,CAAC;EACDE,YAAY,EAAEA,CAACH,MAAM,EAAE;IAAEI,aAAa;IAAEC;EAAU,CAAC,KAAK;IACpD,OAAOV,KAAK,CAACW,IAAI,CAAC,aAAa,EAAEN,MAAM,CAAC,CACnCO,IAAI,CAAC,CAAC;MAAEC;IAAK,CAAC,KAAK;MAChB,MAAM;QAAEC,MAAM;QAAEC;MAAM,CAAC,GAAGF,IAAI;MAC9B,IAAIC,MAAM,KAAK,OAAO,EAAE;QACpBf,gBAAgB,CAAC;UACbiB,KAAK,EAAE,wBAAwB;UAC/BC,IAAI,EAAE,2BAA2B;UACjCC,IAAI,EAAE;QACV,CAAC,CAAC;MACN,CAAC,MAAM;QACHnB,gBAAgB,CAAC;UACbiB,KAAK,EAAE,wBAAwB;UAC/BC,IAAI,EAAE,aAAa;UACnBC,IAAI,EAAE;QACV,CAAC,CAAC;MACN;MACA;MACAT,aAAa,CAAC,KAAK,CAAC;IACxB,CAAC,CAAC,CACDU,MAAM,CAAC,MAAM;MACVV,aAAa,CAAC,KAAK,CAAC;IACxB,CAAC,CAAC;EACV,CAAC;EACDW,WAAW,EAAE;AAEjB,CAAC,CAAC,CAACxB,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}