{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nexports.default = function (_ref) {\n  var xhr = _ref.xhr,\n    progress = _ref.progress,\n    resolve = _ref.resolve;\n  xhr.upload.addEventListener('progress', function (event) {\n    if (!progress) return false;\n    progress(Math.round(event.loaded / event.total * 100));\n  });\n  xhr.addEventListener('load', function () {\n    var response = void 0;\n    try {\n      response = JSON.parse(xhr.response);\n    } catch (e) {\n      response = xhr.response;\n    }\n    var headers = xhr.getAllResponseHeaders().trim().split(/[\\r\\n]+/).map(function (line) {\n      return line.split(': ');\n    }).reduce(function (acc, _ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        header = _ref3[0],\n        value = _ref3[1];\n      acc[header] = value;\n      return acc;\n    }, {});\n    resolve({\n      response: response,\n      error: xhr.status < 200 || xhr.status >= 300,\n      status: xhr.status,\n      headers: headers\n    });\n  });\n  xhr.addEventListener('error', function (error) {\n    resolve({\n      error: error,\n      status: xhr.status,\n      response: xhr.response\n    });\n  });\n  xhr.addEventListener('abort', function (aborted) {\n    resolve({\n      aborted: aborted\n    });\n  });\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","default","_ref","xhr","progress","resolve","upload","addEventListener","event","Math","round","loaded","total","response","JSON","parse","e","headers","getAllResponseHeaders","trim","split","map","line","reduce","acc","_ref2","_ref3","header","error","status","aborted"],"sources":["D:/React/projects/02-second-project/messanger-frontend/node_modules/@navjobs/upload/dist/request/register-listeners.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.default = function (_ref) {\n  var xhr = _ref.xhr,\n      progress = _ref.progress,\n      resolve = _ref.resolve;\n\n  xhr.upload.addEventListener('progress', function (event) {\n    if (!progress) return false;\n    progress(Math.round(event.loaded / event.total * 100));\n  });\n\n  xhr.addEventListener('load', function () {\n    var response = void 0;\n    try {\n      response = JSON.parse(xhr.response);\n    } catch (e) {\n      response = xhr.response;\n    }\n\n    var headers = xhr.getAllResponseHeaders().trim().split(/[\\r\\n]+/).map(function (line) {\n      return line.split(': ');\n    }).reduce(function (acc, _ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          header = _ref3[0],\n          value = _ref3[1];\n\n      acc[header] = value;\n      return acc;\n    }, {});\n\n    resolve({\n      response: response,\n      error: xhr.status < 200 || xhr.status >= 300,\n      status: xhr.status,\n      headers: headers\n    });\n  });\n\n  xhr.addEventListener('error', function (error) {\n    resolve({ error: error, status: xhr.status, response: xhr.response });\n  });\n\n  xhr.addEventListener('abort', function (aborted) {\n    resolve({ aborted: aborted });\n  });\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}