{"ast":null,"code":"import { userApi } from \"utils/api\";\nimport { openNotification } from \"utils/helpers\";\nconst actions = {\n  setUserData: data => ({\n    type: \"USER:SET_DATA\",\n    payload: data\n  }),\n  fetchUserData: () => dispatch => {\n    dispatch(actions.setUserData());\n  },\n  fetchUserLogin: postData => dispatch => {\n    return userApi.login(postData).then(({\n      data\n    }) => {\n      const {\n        status,\n        token\n      } = data;\n      if (status === \"error\") {\n        openNotification({\n          title: \"Ошибка при авторизации\",\n          text: \"Неверный логин или пароль.\",\n          type: \"error\"\n        });\n      } else {\n        openNotification({\n          title: \"Отлично!\",\n          text: \"Авторизация успешна.\",\n          type: \"success\"\n        });\n        dispatch(actions.setUserData(data));\n      }\n      window.token = token;\n    });\n  }\n};\nexport default actions;","map":{"version":3,"names":["userApi","openNotification","actions","setUserData","data","type","payload","fetchUserData","dispatch","fetchUserLogin","postData","login","then","status","token","title","text","window"],"sources":["D:/React/projects/02-second-project/messanger-frontend/src/redux/actions/user.js"],"sourcesContent":["import { userApi } from \"utils/api\";\r\nimport { openNotification } from \"utils/helpers\";\r\n\r\nconst actions = {\r\n    setUserData: data => ({\r\n        type: \"USER:SET_DATA\",\r\n        payload: data\r\n    }),\r\n    fetchUserData:() => dispatch => {\r\n        dispatch(actions.setUserData())\r\n    },\r\n    fetchUserLogin: (postData)=> dispatch => {\r\n        return userApi.login(postData)\r\n        .then(({data}) => {\r\n            const { status, token } = data\r\n            if (status === \"error\") {\r\n                openNotification({\r\n                    title: \"Ошибка при авторизации\",\r\n                    text: \"Неверный логин или пароль.\",\r\n                    type: \"error\"\r\n                })\r\n            } else {\r\n                openNotification({\r\n                    title: \"Отлично!\",\r\n                    text: \"Авторизация успешна.\",\r\n                    type: \"success\"\r\n                })\r\n                dispatch(actions.setUserData(data))\r\n            }\r\n            window.token = token\r\n        })\r\n    }\r\n}\r\n\r\nexport default actions"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,MAAMC,OAAO,GAAG;EACZC,WAAW,EAAEC,IAAI,KAAK;IAClBC,IAAI,EAAE,eAAe;IACrBC,OAAO,EAAEF;EACb,CAAC,CAAC;EACFG,aAAa,EAACA,CAAA,KAAMC,QAAQ,IAAI;IAC5BA,QAAQ,CAACN,OAAO,CAACC,WAAW,CAAC,CAAC,CAAC;EACnC,CAAC;EACDM,cAAc,EAAGC,QAAQ,IAAIF,QAAQ,IAAI;IACrC,OAAOR,OAAO,CAACW,KAAK,CAACD,QAAQ,CAAC,CAC7BE,IAAI,CAAC,CAAC;MAACR;IAAI,CAAC,KAAK;MACd,MAAM;QAAES,MAAM;QAAEC;MAAM,CAAC,GAAGV,IAAI;MAC9B,IAAIS,MAAM,KAAK,OAAO,EAAE;QACpBZ,gBAAgB,CAAC;UACbc,KAAK,EAAE,wBAAwB;UAC/BC,IAAI,EAAE,4BAA4B;UAClCX,IAAI,EAAE;QACV,CAAC,CAAC;MACN,CAAC,MAAM;QACHJ,gBAAgB,CAAC;UACbc,KAAK,EAAE,UAAU;UACjBC,IAAI,EAAE,sBAAsB;UAC5BX,IAAI,EAAE;QACV,CAAC,CAAC;QACFG,QAAQ,CAACN,OAAO,CAACC,WAAW,CAACC,IAAI,CAAC,CAAC;MACvC;MACAa,MAAM,CAACH,KAAK,GAAGA,KAAK;IACxB,CAAC,CAAC;EACN;AACJ,CAAC;AAED,eAAeZ,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}