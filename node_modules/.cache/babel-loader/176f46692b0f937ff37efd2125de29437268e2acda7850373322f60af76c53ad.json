{"ast":null,"code":"import _extends from '../../polyfills/extends';\nimport _Object$getPrototypeOf from '../../polyfills/objectGetPrototypeOf';\nimport _classCallCheck from '../../polyfills/classCallCheck';\nimport _createClass from '../../polyfills/createClass';\nimport _possibleConstructorReturn from '../../polyfills/possibleConstructorReturn';\nimport _inherits from '../../polyfills/inherits';\nimport '../../vendor/raf-polyfill';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as icons from '../../svgs';\nimport store from '../../utils/store';\nimport frequently from '../../utils/frequently';\nimport { deepMerge, measureScrollbar, getSanitizedData } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport Anchors from '../anchors';\nimport Category from '../category';\nimport Preview from '../preview';\nimport Search from '../search';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\nvar NimblePicker = function (_React$PureComponent) {\n  _inherits(NimblePicker, _React$PureComponent);\n  function NimblePicker(props) {\n    _classCallCheck(this, NimblePicker);\n    var _this = _possibleConstructorReturn(this, (NimblePicker.__proto__ || _Object$getPrototypeOf(NimblePicker)).call(this, props));\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.CUSTOM_CATEGORY = {\n      id: 'custom',\n      name: 'Custom',\n      emojis: []\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n    if (props.data.compressed) {\n      uncompress(props.data);\n    }\n    _this.data = props.data;\n    _this.i18n = deepMerge(I18N, props.i18n);\n    _this.icons = deepMerge(icons, props.icons);\n    _this.state = {\n      skin: props.skin || store.get('skin') || props.defaultSkin,\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n    if (props.custom.length > 0) {\n      _this.CUSTOM_CATEGORY.emojis = props.custom.map(function (emoji) {\n        return _extends({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n      });\n      allCategories.push(_this.CUSTOM_CATEGORY);\n    }\n    _this.hideRecent = true;\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n        return -1;\n      });\n    }\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n    _this.setAnchorsRef = _this.setAnchorsRef.bind(_this);\n    _this.handleAnchorClick = _this.handleAnchorClick.bind(_this);\n    _this.setSearchRef = _this.setSearchRef.bind(_this);\n    _this.handleSearch = _this.handleSearch.bind(_this);\n    _this.setScrollRef = _this.setScrollRef.bind(_this);\n    _this.handleScroll = _this.handleScroll.bind(_this);\n    _this.handleScrollPaint = _this.handleScrollPaint.bind(_this);\n    _this.handleEmojiOver = _this.handleEmojiOver.bind(_this);\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind(_this);\n    _this.handleEmojiClick = _this.handleEmojiClick.bind(_this);\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind(_this);\n    _this.setPreviewRef = _this.setPreviewRef.bind(_this);\n    _this.handleSkinChange = _this.handleSkinChange.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    return _this;\n  }\n  _createClass(NimblePicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      if (props.skin) {\n        this.setState({\n          skin: props.skin\n        });\n      } else if (props.defaultSkin && !store.get('skin')) {\n        this.setState({\n          skin: props.defaultSkin\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n    }\n  }, {\n    key: 'testStickyPosition',\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = prefix + 'sticky';\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: 'handleEmojiOver',\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n      if (!preview) {\n        return;\n      }\n\n      // Use Array.prototype.find() when it is more widely supported.\n      var emojiData = this.CUSTOM_CATEGORY.emojis.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: 'handleEmojiLeave',\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n      if (!preview) {\n        return;\n      }\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: 'handleEmojiClick',\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: 'handleEmojiSelect',\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) frequently.add(emoji);\n      var component = this.categoryRefs['category-1'];\n      if (component) {\n        var maxMargin = component.maxMargin;\n        component.forceUpdate();\n        window.requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n          _this3.updateCategoriesSize();\n          _this3.handleScrollPaint();\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        window.requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: 'handleScrollPaint',\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n      if (!this.scroll) {\n        return;\n      }\n      var activeCategory = null;\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n          scrollTop = target.scrollTop,\n          scrollingDown = scrollTop > (this.scrollTop || 0),\n          minTop = 0;\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n            category = this.categories[ii],\n            component = this.categoryRefs['category-' + ii];\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n      if (activeCategory) {\n        var anchors = this.anchors;\n        var _activeCategory = activeCategory;\n        var categoryName = _activeCategory.name;\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'handleSearch',\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs['category-' + i];\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n      this.forceUpdate();\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n      this.handleScroll();\n    }\n  }, {\n    key: 'handleAnchorClick',\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs['category-' + i];\n      var scroll = this.scroll;\n      var anchors = this.anchors;\n      var scrollToComponent = null;\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n          scroll.scrollTop = top;\n        }\n      };\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        window.requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: 'handleSkinChange',\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      };\n      var onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n      store.update(newState);\n      onSkinChange(skin);\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var handled = false;\n      switch (e.keyCode) {\n        case 13:\n          var emoji = void 0;\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = getSanitizedData(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n          }\n          handled = true;\n          break;\n      }\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'updateCategoriesSize',\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs['category-' + i];\n        if (component) component.memoizeSize();\n      }\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: 'getCategories',\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: 'setAnchorsRef',\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: 'setSearchRef',\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: 'setPreviewRef',\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: 'setScrollRef',\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: 'setCategoryRef',\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n      var _props = this.props;\n      var perLine = _props.perLine;\n      var emojiSize = _props.emojiSize;\n      var set = _props.set;\n      var sheetSize = _props.sheetSize;\n      var sheetColumns = _props.sheetColumns;\n      var sheetRows = _props.sheetRows;\n      var style = _props.style;\n      var title = _props.title;\n      var emoji = _props.emoji;\n      var color = _props.color;\n      var native = _props.native;\n      var backgroundImageFn = _props.backgroundImageFn;\n      var emojisToShowFilter = _props.emojisToShowFilter;\n      var showPreview = _props.showPreview;\n      var showSkinTones = _props.showSkinTones;\n      var emojiTooltip = _props.emojiTooltip;\n      var include = _props.include;\n      var exclude = _props.exclude;\n      var recent = _props.recent;\n      var autoFocus = _props.autoFocus;\n      var skinEmoji = _props.skinEmoji;\n      var notFound = _props.notFound;\n      var notFoundEmoji = _props.notFoundEmoji;\n      var skin = this.state.skin;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar();\n      return React.createElement('section', {\n        style: _extends({\n          width: width\n        }, style),\n        className: 'emoji-mart',\n        'aria-label': title,\n        onKeyDown: this.handleKeyDown\n      }, React.createElement('div', {\n        className: 'emoji-mart-bar'\n      }, React.createElement(Anchors, {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), React.createElement(Search, {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM_CATEGORY.emojis,\n        autoFocus: autoFocus\n      }), React.createElement('div', {\n        ref: this.setScrollRef,\n        className: 'emoji-mart-scroll',\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return React.createElement(Category, {\n          ref: _this4.setCategoryRef.bind(_this4, 'category-' + i),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          native: native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM_CATEGORY.emojis : undefined,\n          emojiProps: {\n            native: native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && React.createElement('div', {\n        className: 'emoji-mart-bar'\n      }, React.createElement(Preview, {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          native: native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n  return NimblePicker;\n}(React.PureComponent);\nexport default NimblePicker;\nNimblePicker.propTypes /* remove-proptypes */ = _extends({}, PickerPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimblePicker.defaultProps = _extends({}, PickerDefaultProps);","map":{"version":3,"names":["_extends","_Object$getPrototypeOf","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","icons","store","frequently","deepMerge","measureScrollbar","getSanitizedData","uncompress","PickerPropTypes","Anchors","Category","Preview","Search","PickerDefaultProps","I18N","search","clear","notfound","skintext","categories","recent","people","nature","foods","activity","places","objects","symbols","flags","custom","categorieslabel","skintones","NimblePicker","_React$PureComponent","props","_this","__proto__","call","RECENT_CATEGORY","id","name","emojis","CUSTOM_CATEGORY","SEARCH_CATEGORY","anchor","data","compressed","i18n","state","skin","get","defaultSkin","firstRender","allCategories","concat","length","map","emoji","short_names","push","hideRecent","include","undefined","sort","a","b","indexOf","categoryIndex","category","isIncluded","isExcluded","exclude","emojisToShowFilter","newEmojis","emojiIndex","newCategory","includeRecent","excludeRecent","unshift","first","setAnchorsRef","bind","handleAnchorClick","setSearchRef","handleSearch","setScrollRef","handleScroll","handleScrollPaint","handleEmojiOver","handleEmojiLeave","handleEmojiClick","handleEmojiSelect","setPreviewRef","handleSkinChange","handleKeyDown","key","value","componentWillReceiveProps","setState","componentDidMount","_this2","testStickyPosition","firstRenderTimeout","setTimeout","componentDidUpdate","updateCategoriesSize","componentWillUnmount","clearTimeout","leaveTimeout","stickyTestElement","document","createElement","prefixes","forEach","prefix","style","position","hasStickyPosition","preview","emojiData","filter","customEmoji","hasOwnProperty","e","onClick","_this3","onSelect","add","component","categoryRefs","maxMargin","forceUpdate","window","requestAnimationFrame","scroll","memoizeSize","updateDisplay","waitingForPaint","activeCategory","target","scrollTop","scrollingDown","minTop","i","l","ii","active","top","clientHeight","scrollHeight","anchors","_activeCategory","categoryName","selected","display","scrollToComponent","newState","onSkinChange","update","handled","keyCode","set","preventDefault","getCategories","slice","c","setCategoryRef","render","_this4","_props","perLine","emojiSize","sheetSize","sheetColumns","sheetRows","title","color","native","backgroundImageFn","showPreview","showSkinTones","emojiTooltip","autoFocus","skinEmoji","notFound","notFoundEmoji","width","className","onKeyDown","ref","onAnchorClick","onSearch","onScroll","emojiProps","size","forceSize","tooltip","onOver","onLeave","skinsProps","onChange","PureComponent","propTypes","object","isRequired","defaultProps"],"sources":["D:/React/projects/02-second-project/messanger-frontend/node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js"],"sourcesContent":["import _extends from '../../polyfills/extends';\nimport _Object$getPrototypeOf from '../../polyfills/objectGetPrototypeOf';\nimport _classCallCheck from '../../polyfills/classCallCheck';\nimport _createClass from '../../polyfills/createClass';\nimport _possibleConstructorReturn from '../../polyfills/possibleConstructorReturn';\nimport _inherits from '../../polyfills/inherits';\nimport '../../vendor/raf-polyfill';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as icons from '../../svgs';\nimport store from '../../utils/store';\nimport frequently from '../../utils/frequently';\nimport { deepMerge, measureScrollbar, getSanitizedData } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { PickerPropTypes } from '../../utils/shared-props';\n\nimport Anchors from '../anchors';\nimport Category from '../category';\nimport Preview from '../preview';\nimport Search from '../search';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\n\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear', // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories', // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker = function (_React$PureComponent) {\n  _inherits(NimblePicker, _React$PureComponent);\n\n  function NimblePicker(props) {\n    _classCallCheck(this, NimblePicker);\n\n    var _this = _possibleConstructorReturn(this, (NimblePicker.__proto__ || _Object$getPrototypeOf(NimblePicker)).call(this, props));\n\n    _this.RECENT_CATEGORY = { id: 'recent', name: 'Recent', emojis: null };\n    _this.CUSTOM_CATEGORY = { id: 'custom', name: 'Custom', emojis: [] };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      uncompress(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = deepMerge(I18N, props.i18n);\n    _this.icons = deepMerge(icons, props.icons);\n    _this.state = {\n      skin: props.skin || store.get('skin') || props.defaultSkin,\n      firstRender: true\n    };\n\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      _this.CUSTOM_CATEGORY.emojis = props.custom.map(function (emoji) {\n        return _extends({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n      });\n\n      allCategories.push(_this.CUSTOM_CATEGORY);\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind(_this);\n    _this.handleAnchorClick = _this.handleAnchorClick.bind(_this);\n    _this.setSearchRef = _this.setSearchRef.bind(_this);\n    _this.handleSearch = _this.handleSearch.bind(_this);\n    _this.setScrollRef = _this.setScrollRef.bind(_this);\n    _this.handleScroll = _this.handleScroll.bind(_this);\n    _this.handleScrollPaint = _this.handleScrollPaint.bind(_this);\n    _this.handleEmojiOver = _this.handleEmojiOver.bind(_this);\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind(_this);\n    _this.handleEmojiClick = _this.handleEmojiClick.bind(_this);\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind(_this);\n    _this.setPreviewRef = _this.setPreviewRef.bind(_this);\n    _this.handleSkinChange = _this.handleSkinChange.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    return _this;\n  }\n\n  _createClass(NimblePicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      if (props.skin) {\n        this.setState({ skin: props.skin });\n      } else if (props.defaultSkin && !store.get('skin')) {\n        this.setState({ skin: props.defaultSkin });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({ firstRender: false });\n        }, 60);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n    }\n  }, {\n    key: 'testStickyPosition',\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = prefix + 'sticky';\n      });\n\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: 'handleEmojiOver',\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      // Use Array.prototype.find() when it is more widely supported.\n      var emojiData = this.CUSTOM_CATEGORY.emojis.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({ emoji: emoji });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: 'handleEmojiLeave',\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({ emoji: null });\n      }, 16);\n    }\n  }, {\n    key: 'handleEmojiClick',\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: 'handleEmojiSelect',\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) frequently.add(emoji);\n\n      var component = this.categoryRefs['category-1'];\n      if (component) {\n        var maxMargin = component.maxMargin;\n        component.forceUpdate();\n\n        window.requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        window.requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: 'handleScrollPaint',\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs['category-' + ii];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors;\n        var _activeCategory = activeCategory;\n        var categoryName = _activeCategory.name;\n\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({ selected: categoryName });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'handleSearch',\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs['category-' + i];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n      this.handleScroll();\n    }\n  }, {\n    key: 'handleAnchorClick',\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs['category-' + i];\n      var scroll = this.scroll;\n      var anchors = this.anchors;\n      var scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n\n        window.requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: 'handleSkinChange',\n    value: function handleSkinChange(skin) {\n      var newState = { skin: skin };\n      var onSkinChange = this.props.onSkinChange;\n\n\n      this.setState(newState);\n      store.update(newState);\n\n      onSkinChange(skin);\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji = void 0;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = getSanitizedData(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n          }\n\n          handled = true;\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'updateCategoriesSize',\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs['category-' + i];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: 'getCategories',\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: 'setAnchorsRef',\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: 'setSearchRef',\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: 'setPreviewRef',\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: 'setScrollRef',\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: 'setCategoryRef',\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props;\n      var perLine = _props.perLine;\n      var emojiSize = _props.emojiSize;\n      var set = _props.set;\n      var sheetSize = _props.sheetSize;\n      var sheetColumns = _props.sheetColumns;\n      var sheetRows = _props.sheetRows;\n      var style = _props.style;\n      var title = _props.title;\n      var emoji = _props.emoji;\n      var color = _props.color;\n      var native = _props.native;\n      var backgroundImageFn = _props.backgroundImageFn;\n      var emojisToShowFilter = _props.emojisToShowFilter;\n      var showPreview = _props.showPreview;\n      var showSkinTones = _props.showSkinTones;\n      var emojiTooltip = _props.emojiTooltip;\n      var include = _props.include;\n      var exclude = _props.exclude;\n      var recent = _props.recent;\n      var autoFocus = _props.autoFocus;\n      var skinEmoji = _props.skinEmoji;\n      var notFound = _props.notFound;\n      var notFoundEmoji = _props.notFoundEmoji;\n      var skin = this.state.skin;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar();\n\n      return React.createElement(\n        'section',\n        {\n          style: _extends({ width: width }, style),\n          className: 'emoji-mart',\n          'aria-label': title,\n          onKeyDown: this.handleKeyDown\n        },\n        React.createElement(\n          'div',\n          { className: 'emoji-mart-bar' },\n          React.createElement(Anchors, {\n            ref: this.setAnchorsRef,\n            data: this.data,\n            i18n: this.i18n,\n            color: color,\n            categories: this.categories,\n            onAnchorClick: this.handleAnchorClick,\n            icons: this.icons\n          })\n        ),\n        React.createElement(Search, {\n          ref: this.setSearchRef,\n          onSearch: this.handleSearch,\n          data: this.data,\n          i18n: this.i18n,\n          emojisToShowFilter: emojisToShowFilter,\n          include: include,\n          exclude: exclude,\n          custom: this.CUSTOM_CATEGORY.emojis,\n          autoFocus: autoFocus\n        }),\n        React.createElement(\n          'div',\n          {\n            ref: this.setScrollRef,\n            className: 'emoji-mart-scroll',\n            onScroll: this.handleScroll\n          },\n          this.getCategories().map(function (category, i) {\n            return React.createElement(Category, {\n              ref: _this4.setCategoryRef.bind(_this4, 'category-' + i),\n              key: category.name,\n              id: category.id,\n              name: category.name,\n              emojis: category.emojis,\n              perLine: perLine,\n              native: native,\n              hasStickyPosition: _this4.hasStickyPosition,\n              data: _this4.data,\n              i18n: _this4.i18n,\n              recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n              custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM_CATEGORY.emojis : undefined,\n              emojiProps: {\n                native: native,\n                skin: skin,\n                size: emojiSize,\n                set: set,\n                sheetSize: sheetSize,\n                sheetColumns: sheetColumns,\n                sheetRows: sheetRows,\n                forceSize: native,\n                tooltip: emojiTooltip,\n                backgroundImageFn: backgroundImageFn,\n                onOver: _this4.handleEmojiOver,\n                onLeave: _this4.handleEmojiLeave,\n                onClick: _this4.handleEmojiClick\n              },\n              notFound: notFound,\n              notFoundEmoji: notFoundEmoji\n            });\n          })\n        ),\n        (showPreview || showSkinTones) && React.createElement(\n          'div',\n          { className: 'emoji-mart-bar' },\n          React.createElement(Preview, {\n            ref: this.setPreviewRef,\n            data: this.data,\n            title: title,\n            emoji: emoji,\n            showSkinTones: showSkinTones,\n            showPreview: showPreview,\n            emojiProps: {\n              native: native,\n              size: 38,\n              skin: skin,\n              set: set,\n              sheetSize: sheetSize,\n              sheetColumns: sheetColumns,\n              sheetRows: sheetRows,\n              backgroundImageFn: backgroundImageFn\n            },\n            skinsProps: {\n              skin: skin,\n              onChange: this.handleSkinChange,\n              skinEmoji: skinEmoji\n            },\n            i18n: this.i18n\n          })\n        )\n      );\n    }\n  }]);\n\n  return NimblePicker;\n}(React.PureComponent);\n\nexport default NimblePicker;\n\n\nNimblePicker.propTypes /* remove-proptypes */ = _extends({}, PickerPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimblePicker.defaultProps = _extends({}, PickerDefaultProps);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}