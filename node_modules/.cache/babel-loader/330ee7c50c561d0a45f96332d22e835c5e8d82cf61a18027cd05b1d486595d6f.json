{"ast":null,"code":"import { withFormik } from 'formik';\nimport RegisterForm from \"../components/RegisterForm\";\nexport default withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: () => ({\n    email: '',\n    fullname: '',\n    password: '',\n    password_2: ''\n  }),\n  validate: values => {\n    let errors = {};\n    validateForm({\n      isAuth: false,\n      values,\n      errors\n    });\n    return errors;\n  },\n  handleSubmit: (values, {\n    setSubmitting,\n    props\n  }) => {\n    store.dispatch(userActions.fetchUserRegister(values)).then(() => {\n      props.history.push('/signup/verify');\n      setSubmitting(false);\n    }).catch(err => {\n      if (get(err, 'response.data.message.errmsg', '').indexOf('dup') >= 0) {\n        openNotification({\n          title: 'Ошибка',\n          text: 'Аккаунт с такой почтой уже создан.',\n          type: 'error',\n          duration: 5000\n        });\n      } else {\n        openNotification({\n          title: 'Ошибка',\n          text: 'Возникла серверная ошибка при регистрации. Повторите позже.',\n          type: 'error',\n          duration: 5000\n        });\n      }\n      setSubmitting(false);\n    });\n  },\n  displayName: 'RegisterForm'\n})(RegisterForm);","map":{"version":3,"names":["withFormik","RegisterForm","enableReinitialize","mapPropsToValues","email","fullname","password","password_2","validate","values","errors","validateForm","isAuth","handleSubmit","setSubmitting","props","store","dispatch","userActions","fetchUserRegister","then","history","push","catch","err","get","indexOf","openNotification","title","text","type","duration","displayName"],"sources":["D:/React/projects/02-second-project/messenger/src/modules/RegisterForm/containers/RegisterForm.js"],"sourcesContent":["import {withFormik} from 'formik';\r\nimport RegisterForm from \"../components/RegisterForm\";\r\n\r\nexport default withFormik({\r\n    enableReinitialize: true,\r\n    mapPropsToValues: () => ({\r\n      email: '',\r\n      fullname: '',\r\n      password: '',\r\n      password_2: ''\r\n    }),\r\n    validate: values => {\r\n      let errors = {};\r\n      validateForm({ isAuth: false, values, errors });\r\n      return errors;\r\n    },\r\n    handleSubmit: (values, { setSubmitting, props }) => {\r\n      store\r\n        .dispatch(userActions.fetchUserRegister(values))\r\n        .then(() => {\r\n          props.history.push('/signup/verify');\r\n          setSubmitting(false);\r\n        })\r\n        .catch(err => {\r\n          if (get(err, 'response.data.message.errmsg', '').indexOf('dup') >= 0) {\r\n            openNotification({\r\n              title: 'Ошибка',\r\n              text: 'Аккаунт с такой почтой уже создан.',\r\n              type: 'error',\r\n              duration: 5000\r\n            });\r\n          } else {\r\n            openNotification({\r\n              title: 'Ошибка',\r\n              text: 'Возникла серверная ошибка при регистрации. Повторите позже.',\r\n              type: 'error',\r\n              duration: 5000\r\n            });\r\n          }\r\n          setSubmitting(false);\r\n        });\r\n    },\r\n    displayName: 'RegisterForm'\r\n  })(RegisterForm);"],"mappings":"AAAA,SAAQA,UAAU,QAAO,QAAQ;AACjC,OAAOC,YAAY,MAAM,4BAA4B;AAErD,eAAeD,UAAU,CAAC;EACtBE,kBAAkB,EAAE,IAAI;EACxBC,gBAAgB,EAAEA,CAAA,MAAO;IACvBC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC,CAAC;EACFC,QAAQ,EAAEC,MAAM,IAAI;IAClB,IAAIC,MAAM,GAAG,CAAC,CAAC;IACfC,YAAY,CAAC;MAAEC,MAAM,EAAE,KAAK;MAAEH,MAAM;MAAEC;IAAO,CAAC,CAAC;IAC/C,OAAOA,MAAM;EACf,CAAC;EACDG,YAAY,EAAEA,CAACJ,MAAM,EAAE;IAAEK,aAAa;IAAEC;EAAM,CAAC,KAAK;IAClDC,KAAK,CACFC,QAAQ,CAACC,WAAW,CAACC,iBAAiB,CAACV,MAAM,CAAC,CAAC,CAC/CW,IAAI,CAAC,MAAM;MACVL,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,gBAAgB,CAAC;MACpCR,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC,CACDS,KAAK,CAACC,GAAG,IAAI;MACZ,IAAIC,GAAG,CAACD,GAAG,EAAE,8BAA8B,EAAE,EAAE,CAAC,CAACE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;QACpEC,gBAAgB,CAAC;UACfC,KAAK,EAAE,QAAQ;UACfC,IAAI,EAAE,oCAAoC;UAC1CC,IAAI,EAAE,OAAO;UACbC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,MAAM;QACLJ,gBAAgB,CAAC;UACfC,KAAK,EAAE,QAAQ;UACfC,IAAI,EAAE,6DAA6D;UACnEC,IAAI,EAAE,OAAO;UACbC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;MACAjB,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EACDkB,WAAW,EAAE;AACf,CAAC,CAAC,CAAC/B,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}