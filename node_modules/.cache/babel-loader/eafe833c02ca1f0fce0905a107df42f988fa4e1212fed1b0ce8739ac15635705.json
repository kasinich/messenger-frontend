{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _registerListeners = require('./register-listeners');\nvar _registerListeners2 = _interopRequireDefault(_registerListeners);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nexports.default = function (_ref) {\n  var request = _ref.request,\n    files = _ref.files,\n    instance = _ref.instance,\n    progress = _ref.progress;\n  return new Promise(function (resolve) {\n    var xhr = new XMLHttpRequest();\n    if (instance) instance(xhr);\n    (0, _registerListeners2.default)({\n      xhr: xhr,\n      resolve: resolve,\n      progress: progress\n    });\n    xhr.open(request.method || 'POST', request.url);\n    xhr.withCredentials = request.withCredentials || false;\n    if (request.headers) {\n      Object.keys(request.headers).forEach(function (header) {\n        return xhr.setRequestHeader(header, request.headers[header]);\n      });\n    }\n    //send just the file if no fields or filename is set\n    if (!request.fileName && !request.fields) return xhr.send(files[0]);\n    var formData = new FormData();\n\n    //append fields first, fixes https://github.com/expressjs/multer/issues/322\n    if (request.fields) {\n      Object.keys(request.fields).forEach(function (field) {\n        return formData.append(field, request.fields[field]);\n      });\n    }\n    Array.from(files).forEach(function (file) {\n      return formData.append(request.fileName || 'file', file);\n    });\n    xhr.send(formData);\n  });\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_registerListeners","require","_registerListeners2","_interopRequireDefault","obj","__esModule","default","_ref","request","files","instance","progress","Promise","resolve","xhr","XMLHttpRequest","open","method","url","withCredentials","headers","keys","forEach","header","setRequestHeader","fileName","fields","send","formData","FormData","field","append","Array","from","file"],"sources":["D:/React/projects/02-second-project/messanger-frontend/node_modules/@navjobs/upload/dist/request/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _registerListeners = require('./register-listeners');\n\nvar _registerListeners2 = _interopRequireDefault(_registerListeners);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (_ref) {\n  var request = _ref.request,\n      files = _ref.files,\n      instance = _ref.instance,\n      progress = _ref.progress;\n  return new Promise(function (resolve) {\n    var xhr = new XMLHttpRequest();\n    if (instance) instance(xhr);\n\n    (0, _registerListeners2.default)({ xhr: xhr, resolve: resolve, progress: progress });\n\n    xhr.open(request.method || 'POST', request.url);\n    xhr.withCredentials = request.withCredentials || false;\n\n    if (request.headers) {\n      Object.keys(request.headers).forEach(function (header) {\n        return xhr.setRequestHeader(header, request.headers[header]);\n      });\n    }\n    //send just the file if no fields or filename is set\n    if (!request.fileName && !request.fields) return xhr.send(files[0]);\n\n    var formData = new FormData();\n\n    //append fields first, fixes https://github.com/expressjs/multer/issues/322\n    if (request.fields) {\n      Object.keys(request.fields).forEach(function (field) {\n        return formData.append(field, request.fields[field]);\n      });\n    }\n\n    Array.from(files).forEach(function (file) {\n      return formData.append(request.fileName || 'file', file);\n    });\n\n    xhr.send(formData);\n  });\n};"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AAEF,IAAIC,kBAAkB,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AAExD,IAAIC,mBAAmB,GAAGC,sBAAsB,CAACH,kBAAkB,CAAC;AAEpE,SAASG,sBAAsBA,CAACC,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;AAE9FN,OAAO,CAACQ,OAAO,GAAG,UAAUC,IAAI,EAAE;EAChC,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAO;IACtBC,KAAK,GAAGF,IAAI,CAACE,KAAK;IAClBC,QAAQ,GAAGH,IAAI,CAACG,QAAQ;IACxBC,QAAQ,GAAGJ,IAAI,CAACI,QAAQ;EAC5B,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAE;IACpC,IAAIC,GAAG,GAAG,IAAIC,cAAc,CAAC,CAAC;IAC9B,IAAIL,QAAQ,EAAEA,QAAQ,CAACI,GAAG,CAAC;IAE3B,CAAC,CAAC,EAAEZ,mBAAmB,CAACI,OAAO,EAAE;MAAEQ,GAAG,EAAEA,GAAG;MAAED,OAAO,EAAEA,OAAO;MAAEF,QAAQ,EAAEA;IAAS,CAAC,CAAC;IAEpFG,GAAG,CAACE,IAAI,CAACR,OAAO,CAACS,MAAM,IAAI,MAAM,EAAET,OAAO,CAACU,GAAG,CAAC;IAC/CJ,GAAG,CAACK,eAAe,GAAGX,OAAO,CAACW,eAAe,IAAI,KAAK;IAEtD,IAAIX,OAAO,CAACY,OAAO,EAAE;MACnBxB,MAAM,CAACyB,IAAI,CAACb,OAAO,CAACY,OAAO,CAAC,CAACE,OAAO,CAAC,UAAUC,MAAM,EAAE;QACrD,OAAOT,GAAG,CAACU,gBAAgB,CAACD,MAAM,EAAEf,OAAO,CAACY,OAAO,CAACG,MAAM,CAAC,CAAC;MAC9D,CAAC,CAAC;IACJ;IACA;IACA,IAAI,CAACf,OAAO,CAACiB,QAAQ,IAAI,CAACjB,OAAO,CAACkB,MAAM,EAAE,OAAOZ,GAAG,CAACa,IAAI,CAAClB,KAAK,CAAC,CAAC,CAAC,CAAC;IAEnE,IAAImB,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;;IAE7B;IACA,IAAIrB,OAAO,CAACkB,MAAM,EAAE;MAClB9B,MAAM,CAACyB,IAAI,CAACb,OAAO,CAACkB,MAAM,CAAC,CAACJ,OAAO,CAAC,UAAUQ,KAAK,EAAE;QACnD,OAAOF,QAAQ,CAACG,MAAM,CAACD,KAAK,EAAEtB,OAAO,CAACkB,MAAM,CAACI,KAAK,CAAC,CAAC;MACtD,CAAC,CAAC;IACJ;IAEAE,KAAK,CAACC,IAAI,CAACxB,KAAK,CAAC,CAACa,OAAO,CAAC,UAAUY,IAAI,EAAE;MACxC,OAAON,QAAQ,CAACG,MAAM,CAACvB,OAAO,CAACiB,QAAQ,IAAI,MAAM,EAAES,IAAI,CAAC;IAC1D,CAAC,CAAC;IAEFpB,GAAG,CAACa,IAAI,CAACC,QAAQ,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}